<% title = 'Product' %>

<%- include('partials/head'); %>
<%- include('partials/nav'); %>

<div class="container mt-5">
	<div class="card mx-auto" style="max-width: 1200px;"> 
		<div class="row g-0 align-items-center">
			<!-- Image Section -->
			<div class="col-md-7"> 
				<img src="<%= product.imagePath %>" class="img-fluid rounded-start" alt="<%= product.name %>">
			</div>
			<!-- Description Section -->
			<div class="col-md-5"> 
				<div class="card-body">
					<h5 class="card-title display-5"> 
						<%= product.name %>
					</h5>
					<p class="card-text fs-4"> 
						<%= product.description %>
					</p>
					<p class="text-warning fw-bold fs-3">$<%= product.price %></p> 
					
					<form action="/add-to-cart/<%= product.id %>" method="POST">
						<div class="d-grid">
							<button type="submit" class="btn btn-success btn-lg w-100">
								<i class="fas fa-cart-plus"></i> Add to Cart
							</button> 
						</div>
					</form>

					<% if (locals.logged && locals.isAdmin) { %>
						<form action="/admin/edit-product/<%= product.id %>" method="POST">
							<button type="submit" class="btn btn-warning mt-1 w-100">
								<i class="fas fa-edit"></i> Edit Product
							</button>
						</form>

						<form action="/admin/remove-product/<%= product.id %>" method="POST" onsubmit="return confirm('Are you sure you want to delete this product?');">
							<button type="submit" class="btn btn-danger mt-1 w-100">
								<i class="fas fa-trash-alt"></i> Delete Product
							</button>
						</form>
					<% } %>                    
				</div>
			</div>
		</div>
	</div>
</div>

<%- include('partials/end'); %>
